<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body> 

<form id="CreateUser">
    Bruger id:<br>
    <label>
        <input type="number" name="BrugerID" min="1">
    </label><br>
    Bruger navn:<br>
    <label>
        <input type="text" name="BrugerNavn">
    </label><br>
    Initialer:<br>
    <label>
        <input type="text" name="Initialer">
    </label><br>
    Password:<br>
    <label>
    	<input type="text" name="Password">
    </label><br>
    CPR nummer:<br>
    <label>
        <input type="number" name="Cpr" min="1">
    </label><br>
    Rolle:<br>
    <label>
        <input type="text" name="Rolle">
    </label>
    <label>
    </label><br>
    Status:<br>
    <Label>
    	<input type="number" name="Status" max="1">
    </Label><br>
    <input type="submit" value="Opret">
</form>

<script>
$(document).ready(function(event) {
	$('#CreateUser').submit(function(event) {
		event.preventDefault();
		console.log("2");
		var user = {};
		user.brugerId = ("[id*=BrugerId]");
		user.brugerNavn = ("[id*=Navn]");
		user.ini = ("[id*=Initialer]");
		user.password = ("[id*=Password]");
		user.cpr = ("[id*=cpr]");
		user.rolle = ("[id*=Rolle]");
		user.status = ("[id*=Status]");
		console.log("1");
		CreateUser(user);
		return false;
	});
});

function CreateUser(user) {
	$.ajax({
		type: 'POST',
		url: '/rest/UserService/createUser',
		dataType: "json",
		data: 'user: ' + JSON.stringify(user) + '}',
		contentType: "application/json; charset=utf-8",
		success: function (response) {
			alert("User created");
		},
		error: function (errorThrown){
			alert("Unsuccesful");
		}
	});
}
</script>

</body>
</html>